<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Main Page â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }

        .page-footer::before { content: 'Page '; }
        .page-footer::after { content: ' of 8'; }
    </style>
    <script>
        function setDefaultRules(){
            setRules(new MonoRandom());
        }
        function setRules(rnd){
            var bubbleMessages=
            [
             ["play a game", "latest toon", "latest merch"],
             ["new strong bad email", "new sbemail a-comin'", "email soon"],
             ["new toon soon", "new cartoon!", "hey, a new toon!!"],
             ["more biz cas fri", "biz cas fri", "new biz cas fri!"],
             ["short shorts!", "new short shortly", "new short!"]
            ];
            for(var arrayIndex in bubbleMessages){
                $(`#possible-first-messages tr:nth-child(${parseInt(arrayIndex)+1}) td:nth-child(1)`).text(bubbleMessages[arrayIndex][rnd.next(0,3)]);
            }
            var threeLetterCodes=
            [
             ["SPC","OON","AST"],
             ["ALP","MTN","YDL"],
             ["MBD","SND","HWI"],
             ["BWL","STX","SPR"],
             ["WFH","SSC","NWH"],
             ["ANG","HVN","HRP"],
             ["RIP","DED","GRV"],
             ["SKY","FLL","DVE"],
             ["ART","NTE","SKC"],
             ["OLD","RBH","SLN"],
             ["NVA","NWS","RPT"],
             ["JLY","FWK","USA"],
             ["QBT","TRO","PXL"],
             ["WSH","SHW","TLE"],
             ["FLS","PBC","DRW"],
             ["SNW","SLD","DWN"],
             ["IUP","STK","ANM"],
             ["EHS","SCC","COW"],
             ["SHW","PRZ","TRP"],
             ["STR","BSC","PGE"],
             ["ASP","VCT","GRN"],
             ["VRS","DGR","IIB"],
             ["RVZ","BTS","WOD"],
             ["BLR","GLS","MPS"],
             ["BCF","TXS","PPT"],
             ["XRF","GOS","SPK"],
             ["TRG","PST","QST"]
            ];
            for(var codeGroup in threeLetterCodes){
                var column=6*Math.floor(codeGroup/9)+2;
                var row=(codeGroup%9)+1;
                var chosenCode=rnd.next(0,3);
                $(`#first-table tr:nth-child(${row}) td:nth-child(${column})`).text(threeLetterCodes[codeGroup][chosenCode]);
            }
            firstTableLetters(3,rnd);
            firstTableLetters(9,rnd);
            firstTableLetters(15,rnd);
            var colors=["blue","red","green","yellow"];
            var conditions=["C1 is","C1 is not","C1 or C2 are","neither C1 nor C2 are"];
            var conditionOpposites=["it isn't","it is","neither are","either is"];
            var C1=rnd.next(0,4);
            var C2;
            do{
                C2=rnd.next(0,4);
            }while(C2===C1);
            var cond=rnd.next(0,4);
            var condText=conditions[cond];
            condText=condText.replace("C1",colors[C1]);
            if(cond>1)
                condText=condText.replace("C2",colors[C2]);
            $("#colorCondition").text(condText);
            $("#colorConditionOpposite").text(conditionOpposites[cond]);
            var turnConds=["Homestar has the default voice lines","Homestar does not have the default voice lines","any of the buttons' effects are from the same main page as Homestar","any of the buttons' effects are from the same main page as the background"];
            var turnTypes=["reverse the entire string","swap the 1st letter with the 17th, the second with the 18th, the 3rd with the 15th, the 4th with the 16th, etc","swap the first half with the second half"];
            var turnCondition=rnd.next(0,4);
            var type1=rnd.next(0,3);
            var type2;
            do{
                type2=rnd.next(0,3);
            }while(type2===type1);
            $("#turnCond").text(turnConds[turnCondition]);
            $("#firstTurnType").text(turnTypes[type1]);
            $("#secondTurnType").text(turnTypes[type2]);
            var HSorBG=rnd.next(0,2);
            if(HSorBG===1)
                $("#HSorBG").text("Homestar");
            else
                $("#HSorBG").text("the background");
        }
        function firstTableLetters(firstColumn,rnd){
            var letters=['T','G','C','D','S','E'];
            let rows=[ [], [], [], [], [], [], [], [], [] ];
            for(var letterIndex in letters){
                let letterCount=0;
                let availRows=[];
                for(let row of rows){
                    if(4-row.length===6-letterIndex){
                        letterCount++;
                        row.push(letters[letterIndex]);
                    }
                    else if(row.length<4){
                        availRows.push(row);
                    }
                }
                while(letterCount<6){
                    let row=availRows[rnd.next(0,availRows.length)];
                    row.push(letters[letterIndex]);
                    letterCount++;
                    availRows.splice(availRows.indexOf(row),1);
                }
            }
            for(var row in rows){
                rnd.shuffleFisherYates(rows[row]);
                for(var column in rows[row]){
                    $(`#first-table tr:nth-child(${parseInt(row)+1}) td:nth-child(${parseInt(column)+firstColumn})`).text(rows[row][column]);
                }
            }
        }
    </script>
</head>
  <body>
    <div class="section">
      <div class="page page-bg-01">
        <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">Main Page</span>
        </div>
        <div class="page-content">
          <img src="img/Component/Main Page.svg" class="diagram">
          <h2>On the Subject of Main Page</h2>
          <p class="flavour-text">homestarrunner.net: "It's dot com!"</p>
          <p>On this module will appear a Homestar Runner main page. However, Homestar, the background and the button effects will come from various different main pages (see appendix FHQWHG4D5 for reference and description).</p>
          <p>In the top right corner, there will be a bubble cycling through 3 messages and changing color.</p>
          <table style="text-align:center;float:left;margin-top:0px;margin-right:20px;margin-bottom:20px">
          <thead>
            <tr><th>POSSIBLE FIRST MESSAGES</th></tr>
          </thead>
            <tbody id="possible-first-messages">
                <tr><td></td></tr>
                <tr><td></td></tr>
                <tr><td></td></tr>
                <tr><td></td></tr>
                <tr><td></td></tr>
            </tbody></table>
          <p>One of the bubbles will have one of these messages. Consider that bubble the first of the cycle. Take the color of each bubble as the column of the below table, and the menu number of the background as the row to get three menu buttons.</p>
          <table style="text-align:center"><thead>
            <tr><th>#</th><th>Code</th><td style="background-color:blue;color:white">B</td><td style="background-color:red;color:white">R</td><td style="background-color:green;color:white">G</td><td style="background-color:yellow;color:black">Y</td><th>#</th><th>Code</th><td style="background-color:blue;color:white">B</td><td style="background-color:red;color:white">R</td><td style="background-color:green;color:white">G</td><td style="background-color:yellow;color:black">Y</td><th>#</th><th>Code</th><td style="background-color:blue;color:white">B</td><td style="background-color:red;color:white">R</td><td style="background-color:green;color:white">G</td><td style="background-color:yellow;color:black">Y</td></tr>
            </thead>
            <tbody id="first-table">
            <tr><th>1</th><td></td><td></td><td></td><td></td><td></td><th>10</th><td></td><td></td><td></td><td></td><td></td><th>19</th><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><th>2</th><td></td><td></td><td></td><td></td><td></td><th>11</th><td></td><td></td><td></td><td></td><td></td><th>20</th><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><th>3</th><td></td><td></td><td></td><td></td><td></td><th>12</th><td></td><td></td><td></td><td></td><td></td><th>21</th><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><th>4</th><td></td><td></td><td></td><td></td><td></td><th>13</th><td></td><td></td><td></td><td></td><td></td><th>22</th><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><th>5</th><td></td><td></td><td></td><td></td><td></td><th>14</th><td></td><td></td><td></td><td></td><td></td><th>23</th><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><th>6</th><td></td><td></td><td></td><td></td><td></td><th>15</th><td></td><td></td><td></td><td></td><td></td><th>24</th><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><th>7</th><td></td><td></td><td></td><td></td><td></td><th>16</th><td></td><td></td><td></td><td></td><td></td><th>25</th><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><th>8</th><td></td><td></td><td></td><td></td><td></td><th>17</th><td></td><td></td><td></td><td></td><td></td><th>26</th><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><th>9</th><td></td><td></td><td></td><td></td><td></td><th>18</th><td></td><td></td><td></td><td></td><td></td><th>27</th><td></td><td></td><td></td><td></td><td></td></tr>
            </tbody></table>
          <p>The letters represent '<b>T</b>oons, <b>G</b>ames, <b>C</b>haracters, <b>D</b>ownloads, <b>S</b>tore, and <b>E</b>-mail. Take the buttons in the order of the bubble's colors, and convert their effects' menu numbers to their alphanumeric positions (1=A, 2=B, etc.; An effect from menu 27 is not used).</p>
        </div>
        <div class="page-footer relative-footer">1</div>
      </div>
      <div class="page page-bg-02">
        <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">Main Page</span>
        </div>
        <div class="page-content">
          <h3>Decryption</h3>
          <p>If the serial number contains three unique letters, remove duplicates and numbers and arrange them in alphabetical order. The changes made in position in the serial number from original to alphabetical order should be replicated in the module's three-letter sequence. <b>If this condition is not met, skip this step.</b></p>
          <p>Take the effects of the 3 buttons not in the table from top to bottom, find their menus' codes, and create an 18-letter string. The first button's letters are 1, 2, and 3, the second button's letters are 4, 5, and 6, and the third button's letters are 7, 8, and 9. Take the codes of the background (10, 11, and 12) and Homestar (13, 14, and 15), then convert the number of letters in each bubble message to their alphanumeric positions (16, 17, and 18), and concatenate them all to the string. From there, arrange them in a rectangle as shown in the picture.</p>
          <img src="img/Main Page/Connect_the_dots.png" style="float:left;margin-right:20px;margin-bottom:20px;width:30%"><p>Skew it (left if <span id="colorCondition"></span> in the sequence, right if <span id="colorConditionOpposite"></span>), squish it as demonstrated in the photo, and turn it all around. If <span id="turnCond"></span>, <span id="firstTurnType"></span>. Otherwise, <span id="secondTurnType"></span>. After doing so, go through each letter in the string. If the letter has occurred previously, replace it with the next letter in the alphabet. Replace it more than once and/or loop around if necessary to ensure each letter is unique. Insert this code in reading order into a 13x2 grid, with the remaining 8 letters in alphabetical order occupying the last 8 spots. From here, find the three letters of the message and replace them with the letters below or above them.</p>
          <p>Finally, shift them forwards in the alphabet via a Caesar cipher using the number of <span id="HSorBG"></span>'s menu of origin.</p>
          <p>The resulting string should match up with one of the 27 three-letter codes in the above table. Press the numbered button along the bottom that corresponds to this code to solve the module. A strike will <u>not</u> regenerate the module's elements. Upon solving, the effects will no longer play.</p>
        </div>
        <div class="page-footer relative-footer">2</div>
      </div>
      <div class="page page-bg-03">
        <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">Main Page</span>
        </div>
        <div class="page-content">
          <h3>Example:</h3>
          <p>Note to self: replace with actual generated example once module development is complete</p>
          <ul>
            <li>Colors: Blue, Red, Yellow</li>
            <li>Messages: "new toon soon", "latest merch", "biz cas fri"</li>
            <li>Background: 14</li>
            <li>Homestar: 8</li>
            <li>Toons: 13</li>
            <li>Games: 5</li>
            <li>Characters: 7</li>
            <li>Downloads: 24</li>
            <li>Store: 18</li>
            <li>E-mail: 12</li>
            <li>Initial encrypted message uses Toons, Email, and Downloads: MLX</li>
            <li>Serial number: AR5AL7</li>
            <li>Letters: ARL</li>
            <li>Serial number rearrangement: ALR (second and third letter swapped)</li>
            <li>Message rearrangement: MXL</li>
            <li>Initial sequence of 18: QBTSSCIOOWSHSKYKKI</li>
            <li>Skew left, green is not present</li>
            <li>Squish: QIBKTKSYSKCSIHOSOW</li>
            <li>Turn all around: Homestar has default voice lines, swap pairs</li>
            <li>OWOSIHCSSKSYTKBKQI</li>
            <li>Replace letters: OWPSIHCTUKVYXLBMQJ</li>
          </ul>
          <table><tbody>
            <tr><td>O</td><td>W</td><td>P</td><td>S</td><td>I</td><td>H</td><td>C</td><td>T</td><td>U</td><td>K</td><td>V</td><td>Y</td><td>X</td></tr>
            <tr><td>L</td><td>B</td><td>M</td><td>Q</td><td>J</td><td>A</td><td>D</td><td>E</td><td>F</td><td>G</td><td>N</td><td>R</td><td>Z</td></tr>
          </tbody></table>
          <ul>
            <li>After translation: PZO</li>
            <li>Shift forwards by 8: HRG</li>
            <li>Answer: Menu ##</li>
          </ul>
        </div>
        <div class="page-footer relative-footer">3</div>
      </div>
      <div class="page page-bg-04">
        <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">Appendix FHQWHG4D5</span>
        </div>
        <div class="page-content">
          <h2>Appendix FHQWHG4D5: Main Page Reference</h2>
          <table><tbody>
            <tr>
              <td><b>1.</b><br><img src="img/Main Page/1.png" width=209px><br>BG: The Moon<br>HS: Orange Spacesuit</td>
              <td><b>2.</b><br><img src="img/Main Page/2.png" width=209px><br>BG: The Alps<br>HS: Green Overalls</td>
              <td><b>3.</b><br><img src="img/Main Page/3.png" width=209px><br>BG: A beach<br>HS: Yellow Shirt w/ Flowers</td>
            </tr>
            <tr>
              <td><b>4.</b><br><img src="img/Main Page/4.png" width=209px><br>BG: Bowling alley<br>HS: Red Polo Shirt</td>
              <td><b>5.</b><br><img src="img/Main Page/5.png" width=209px><br>BG: Waffle House<br>HS: Waffle House Uniform</td>
              <td><b>6.</b><br><img src="img/Main Page/6.png" width=209px><br>BG: Heaven<br>HS: White Robe and Yellow Halo</td>
            </tr>
            <tr>
              <td><b>7.</b><br><img src="img/Main Page/7.png" width=209px><br>BG: Graveyard<br>HS: Pink, brains visible</td>
              <td><b>8.</b><br><img src="img/Main Page/8.png" width=209px><br>BG: Falling through the sky<br>HS: Upside Down</td>
              <td><b>9.</b><br><img src="img/Main Page/9.png" width=209px><br>BG: Notebook sketch<br>HS: Drawn outline</td>
            </tr>
            </tbody></table>
        </div>
        <div class="page-footer relative-footer">4</div>
      </div>
      <div class="page page-bg-05">
        <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">Appendix FHQWHG4D5</span>
        </div>
        <div class="page-content">
          <h3>Appendix FHQWHG4D5: Main Page Reference (continued)</h3>
          <table><tbody>
            <tr>
              <td><b>10.</b><br><img src="img/Main Page/1.png" width=209px><br>BG: <br>HS: </td>
              <td><b>11.</b><br><img src="img/Main Page/2.png" width=209px><br>BG: <br>HS: </td>
              <td><b>12.</b><br><img src="img/Main Page/3.png" width=209px><br>BG: <br>HS: </td>
            </tr>
            <tr>
              <td><b>13.</b><br><img src="img/Main Page/1.png" width=209px><br>BG: <br>HS: </td>
              <td><b>14.</b><br><img src="img/Main Page/2.png" width=209px><br>BG: <br>HS: </td>
              <td><b>15.</b><br><img src="img/Main Page/3.png" width=209px><br>BG: <br>HS: </td>
            </tr>
            <tr>
              <td><b>16.</b><br><img src="img/Main Page/1.png" width=209px><br>BG: <br>HS: </td>
              <td><b>17.</b><br><img src="img/Main Page/2.png" width=209px><br>BG: <br>HS: </td>
              <td><b>18.</b><br><img src="img/Main Page/3.png" width=209px><br>BG: <br>HS: </td>
            </tr>
            </tbody></table>
        </div>
        <div class="page-footer relative-footer">5</div>
      </div>
      <div class="page page-bg-06">
        <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">Appendix FHQWHG4D5</span>
        </div>
        <div class="page-content">
          <h3>Appendix FHQWHG4D5: Main Page Reference (continued)</h3>
          <table><tbody>
            <tr>
              <td><b>19.</b><br><img src="img/Main Page/1.png" width=209px><br>BG: <br>HS: </td>
              <td><b>20.</b><br><img src="img/Main Page/2.png" width=209px><br>BG: <br>HS: </td>
              <td><b>21.</b><br><img src="img/Main Page/3.png" width=209px><br>BG: <br>HS: </td>
            </tr>
            <tr>
              <td><b>22.</b><br><img src="img/Main Page/1.png" width=209px><br>BG: <br>HS: </td>
              <td><b>23.</b><br><img src="img/Main Page/2.png" width=209px><br>BG: <br>HS: </td>
              <td><b>24.</b><br><img src="img/Main Page/3.png" width=209px><br>BG: <br>HS: </td>
            </tr>
            <tr>
              <td><b>25.</b><br><img src="img/Main Page/1.png" width=209px><br>BG: <br>HS: </td>
              <td><b>26.</b><br><img src="img/Main Page/2.png" width=209px><br>BG: <br>HS: </td>
              <td><b>27.</b><br><img src="img/Main Page/3.png" width=209px><br>BG: <br>HS: </td>
            </tr>
            </tbody></table>
        </div>
        <div class="page-footer relative-footer">6</div>
      </div>
      <div class="page page-bg-07">
        <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">Main Page Notes</span>
        </div>
        <div class="page-content">
          <h3>Notes to self:</h3>
          <p>Add GIFs of button effects for appendix as well</p>
          <h4>Encrypting:</h4><ul>
            <li>Randomly choose number from 1-27 for answer, BG, HS, and 3 colors</li>
            <li>Get 3-letter code from answer</li>
            <li>Caesar cipher it <i>backwards</i> w/ Homestar's number</li>
            <li>Randomly generate effects for 3 buttons not chosen by BG and colors</li>
            <li>Follow same procedure as expert to make key for 2x13 table</li>
            <li>Use table in same way as expert to encrypt</li>
            <li>Check for 3 unique SN letters, and if needed, do inverse of procedure (rearrange encryption to match changes <u>from alphabetized to original order</u>)</li>
            <li>Determine buttons to assign effects to w/ same procedure as expert</li>
            <li>Convert letter to number and assign to 3 buttons, ensuring BG/color pattern is followed</li>
          </ul>
          <h4>Ruleseed support:</h4><ul>
          <li>Possible first messages not entirely random, one chosen randomly from each of rows below this list</li>
          <li>For button table:
            <ul><li>Each letter should occur 6 times within the range 1-9, 6 times within 10-18, and 6 times within 19-27</li>
              <li>Also at least once in each column within each range</li>
              <li>Have alternate codes available for each menu (i.e. for 6: HVN, CLD, HRP) rather than randomly generating letters</li></ul>
          </li>
          <li>Change conditions for skew left/right and transformation, also change transformation type (i.e. swap halves, swap within pairs)</li>
          <li>Maybe use HS number as the table row and BG number as Caesar cipher for some seeds</li>
          <p>play a game / latest toon / latest merch<br>new strong bad email / new sbemail a-comin' / email soon<br>new toon soon / new cartoon! / hey, a new toon!!<br>more biz cas fri / biz cas fri / new biz cas fri!<br>short shorts! / new short shortly / new short!</p>
          </ul>
        </div>
        <div class="page-footer relative-footer">7</div>
      </div>
      <div class="page page-bg-08">
        <div class="page-header">
          <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
          <span class="page-header-section-title">Main Page Notes</span>
        </div>
        <div class="page-content">
          <h4>Twitch Plays:</h4><ul>
            <li>Help message: "!{0} cycle to view all effects, !# t/g/c/d/s/e to view specific buttons' effects (can be stringed together with no spaces), and !{0} (number) to press a number button."</li></ul>
          <h4>Souvenir support:</h4><ul>
              <li>"What menu was the background/Homestar from?"</li>
              <li>"What menu was the 'Toons/Games/Characters/Downloads/Store/E-mail button's effect from?"</li>
              <li>Answers written as: "1. The Moon", "16. Wintertime", "23. Rear-view", etc.</li>
          </ul>
        </div>
        <div class="page-footer relative-footer">8</div>
    </div>
  </body>
</html>
